{"failedCount":1,"prefixedPath":"classpath:endpoints\/apps\/get-details.feature","packageQualifiedName":"endpoints.apps.get-details","loopIndex":-1,"relativePath":"endpoints\/apps\/get-details.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":3913458,"millis":3.913458,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'https:\/\/qa-in2.100ms.live\/hmsapi'"},"stepLog":"21:15:53.596 karate.env system property was: null \n"},{"result":{"nanos":13313958,"millis":13.313958,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def tokengenerator = Java.type('utils.TokenGenerator');"}},{"result":{"nanos":4869208,"millis":4.869208,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def token = tokengenerator.getToken();"}},{"result":{"nanos":1404377916,"millis":1404.377916,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def result = call read('add-new-app.feature')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:endpoints\/apps\/add-new-app.feature","packageQualifiedName":"endpoints.apps.add-new-app","loopIndex":-1,"relativePath":"endpoints\/apps\/add-new-app.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":3989708,"millis":3.989708,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'https:\/\/qa-in2.100ms.live\/hmsapi'"}},{"result":{"nanos":1008167,"millis":1.008167,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def tokengenerator = Java.type('utils.TokenGenerator');"}},{"result":{"nanos":299333,"millis":0.299333,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def token = tokengenerator.getToken();"}},{"result":{"nanos":507375,"millis":0.507375,"status":"passed"},"step":{"line":9,"prefix":"Given","index":0,"text":"path '\/all-apps'"}},{"result":{"nanos":1930583,"millis":1.930583,"status":"passed"},"step":{"line":10,"prefix":"And","index":1,"text":"header authorization = token"}},{"result":{"nanos":21286583,"millis":21.286583,"status":"passed"},"step":{"line":11,"prefix":"*","index":2,"text":"def payload = read('..\/..\/data\/add-new-app.json')"}},{"result":{"nanos":3824125,"millis":3.824125,"status":"passed"},"step":{"line":12,"prefix":"*","index":3,"text":"print payload"},"stepLog":"21:15:53.741 [print] {\n  \"subdomain_name\": \"sahil-conf12345\",\n  \"app_type\": \"VIDEOCONF\",\n  \"app_name\": \"conf56568\",\n  \"region\": \"in\",\n  \"ts_template_id\": 10,\n  \"starter_kit_id\": 6,\n  \"roles\": [\n    {\n      \"role\": \"host\",\n      \"permissions\": {\n        \"mute\": true,\n        \"unmute\": true,\n        \"removeOthers\": true,\n        \"endRoom\": true,\n        \"changeRole\": true,\n        \"lockRoom\": false,\n        \"sendRoomState\": false\n      },\n      \"subscribeDegradation\": true,\n      \"priority\": 1,\n      \"chat\": {\n        \"privateMessage\": [\n        ]\n      },\n      \"screenshare\": {\n        \"permissions\": [\n        ]\n      },\n      \"annotation\": {\n        \"permissions\": [\n        ]\n      },\n      \"virtualBackgrounds\": {\n        \"set\": true,\n        \"upload\": false\n      },\n      \"spotlight\": {\n        \"permissions\": [\n        ]\n      },\n      \"raiseHand\": {\n        \"raiseOwn\": false,\n        \"lowerOthers\": true\n      },\n      \"googleDrive\": {\n        \"permissions\": [\n        ]\n      },\n      \"youtube\": {\n        \"permissions\": [\n        ]\n      },\n      \"advancedSettings\": {\n        \"publish\": {\n          \"audio\": true,\n          \"video\": true,\n          \"screenshare\": true,\n          \"params\": {\n            \"video\": {\n              \"bitRate\": 300,\n              \"frameRate\": 30,\n              \"codec\": \"vp8\"\n            },\n            \"screenshare\": {\n              \"bitRate\": null,\n              \"frameRate\": 10,\n              \"codec\": \"vp8\"\n            }\n          }\n        },\n        \"subscribe\": {\n          \"to\": [\n            \"guest\",\n            \"host\"\n          ]\n        }\n      },\n      \"video_quality\": \"_360p\",\n      \"screenshare_quality\": \"_1080p\",\n      \"default\": false,\n      \"video_aspect_ratio\": \"4:3\"\n    },\n    {\n      \"role\": \"guest\",\n      \"permissions\": {\n        \"mute\": false,\n        \"unmute\": false,\n        \"removeOthers\": false,\n        \"endRoom\": false,\n        \"changeRole\": false,\n        \"lockRoom\": false,\n        \"sendRoomState\": false\n      },\n      \"subscribeDegradation\": true,\n      \"priority\": 1,\n      \"chat\": {\n        \"privateMessage\": [\n        ]\n      },\n      \"screenshare\": {\n        \"permissions\": [\n        ]\n      },\n      \"annotation\": {\n        \"permissions\": [\n        ]\n      },\n      \"virtualBackgrounds\": {\n        \"set\": true,\n        \"upload\": false\n      },\n      \"spotlight\": {\n        \"permissions\": [\n        ]\n      },\n      \"raiseHand\": {\n        \"raiseOwn\": false,\n        \"lowerOthers\": true\n      },\n      \"googleDrive\": {\n        \"permissions\": [\n        ]\n      },\n      \"youtube\": {\n        \"permissions\": [\n        ]\n      },\n      \"advancedSettings\": {\n        \"publish\": {\n          \"audio\": true,\n          \"video\": true,\n          \"screenshare\": true,\n          \"params\": {\n            \"video\": {\n              \"bitRate\": 300,\n              \"frameRate\": 30,\n              \"codec\": \"vp8\"\n            },\n            \"screenshare\": {\n              \"bitRate\": null,\n              \"frameRate\": 10,\n              \"codec\": \"vp8\"\n            }\n          }\n        },\n        \"subscribe\": {\n          \"to\": [\n            \"host\",\n            \"guest\"\n          ]\n        }\n      },\n      \"video_quality\": \"_360p\",\n      \"screenshare_quality\": \"_1080p\",\n      \"default\": false,\n      \"video_aspect_ratio\": \"4:3\"\n    }\n  ]\n}\n \n"},{"result":{"nanos":2776084,"millis":2.776084,"status":"passed"},"step":{"line":13,"prefix":"And","index":4,"text":"request payload"}},{"result":{"nanos":1305771875,"millis":1305.771875,"status":"passed"},"step":{"line":14,"prefix":"When","index":5,"text":"method post"},"stepLog":"21:15:54.075 request:\n1 > POST https:\/\/qa-in2.100ms.live\/hmsapi\/all-apps\n1 > authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ2ZXJzaW9uIjoyLCJ0eXBlIjoibWFuYWdlbWVudCIsImFwcF9kYXRhIjpudWxsLCJhY2Nlc3Nfa2V5IjoiNjI4MjJkYjAwNWM2NDg3ZjllNTU2NDU2IiwiZXhwIjoxNjU3MDcwMzk2LCJqdGkiOiIyNmQ0Yzg1NS1kOWQ3LTRjNmEtYThkOS01YTc3MDE5MTU4MTYiLCJpYXQiOjE2NTcwMzQzOTYsImlzcyI6IjYyODIyZGFmMDVjNjQ4N2Y5ZTU1NjQ1MiIsIm5iZiI6MTY1NzAzNDM5Niwic3ViIjoiYXBpIn0.dyyfKBK4xrGn7NGait_q-vCVJIlVpzv5fbbKxY1-Wck\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 1777\n1 > Host: qa-in2.100ms.live\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/18.0.1.1)\n1 > Accept-Encoding: gzip,deflate\n{\"subdomain_name\":\"sahil-conf12345\",\"app_type\":\"VIDEOCONF\",\"app_name\":\"conf56568\",\"region\":\"in\",\"ts_template_id\":10,\"starter_kit_id\":6,\"roles\":[{\"role\":\"host\",\"permissions\":{\"mute\":true,\"unmute\":true,\"removeOthers\":true,\"endRoom\":true,\"changeRole\":true,\"lockRoom\":false,\"sendRoomState\":false},\"subscribeDegradation\":true,\"priority\":1,\"chat\":{\"privateMessage\":[]},\"screenshare\":{\"permissions\":[]},\"annotation\":{\"permissions\":[]},\"virtualBackgrounds\":{\"set\":true,\"upload\":false},\"spotlight\":{\"permissions\":[]},\"raiseHand\":{\"raiseOwn\":false,\"lowerOthers\":true},\"googleDrive\":{\"permissions\":[]},\"youtube\":{\"permissions\":[]},\"advancedSettings\":{\"publish\":{\"audio\":true,\"video\":true,\"screenshare\":true,\"params\":{\"video\":{\"bitRate\":300,\"frameRate\":30,\"codec\":\"vp8\"},\"screenshare\":{\"bitRate\":null,\"frameRate\":10,\"codec\":\"vp8\"}}},\"subscribe\":{\"to\":[\"guest\",\"host\"]}},\"video_quality\":\"_360p\",\"screenshare_quality\":\"_1080p\",\"default\":false,\"video_aspect_ratio\":\"4:3\"},{\"role\":\"guest\",\"permissions\":{\"mute\":false,\"unmute\":false,\"removeOthers\":false,\"endRoom\":false,\"changeRole\":false,\"lockRoom\":false,\"sendRoomState\":false},\"subscribeDegradation\":true,\"priority\":1,\"chat\":{\"privateMessage\":[]},\"screenshare\":{\"permissions\":[]},\"annotation\":{\"permissions\":[]},\"virtualBackgrounds\":{\"set\":true,\"upload\":false},\"spotlight\":{\"permissions\":[]},\"raiseHand\":{\"raiseOwn\":false,\"lowerOthers\":true},\"googleDrive\":{\"permissions\":[]},\"youtube\":{\"permissions\":[]},\"advancedSettings\":{\"publish\":{\"audio\":true,\"video\":true,\"screenshare\":true,\"params\":{\"video\":{\"bitRate\":300,\"frameRate\":30,\"codec\":\"vp8\"},\"screenshare\":{\"bitRate\":null,\"frameRate\":10,\"codec\":\"vp8\"}}},\"subscribe\":{\"to\":[\"host\",\"guest\"]}},\"video_quality\":\"_360p\",\"screenshare_quality\":\"_1080p\",\"default\":false,\"video_aspect_ratio\":\"4:3\"}]}\n\n21:15:55.038 response time in milliseconds: 960\n1 < 200\n1 < server: istio-envoy\n1 < date: Tue, 05 Jul 2022 15:45:55 GMT\n1 < content-type: application\/json\n1 < cache-control: no-store\n1 < x-request-id: 3d7ba92d-acca-40fc-a2a9-2290f3b04f9f\n1 < x-frame-options: SAMEORIGIN\n1 < content-length: 2358\n1 < vary: Origin\n1 < x-envoy-upstream-service-time: 282\n1 < content-security-policy: frame-ancestors none;\n1 < strict-transport-security: max-age=31536000; includeSubDomains\n1 < x-xss-protection: 1; mode=block\n1 < x-content-type-options: nosniff\n1 < referrer-policy: no-referrer\n1 < x-download-options: noopen\n1 < x-dns-prefetch-control: off\n1 < permissions-policy: camera 'none';microphone 'none';geolocation 'none';encrypted-media 'none';payment 'none';speaker 'none';usb 'none';\n{\"user_name\": \"sahil\", \"apps\": [{\"id\": 2599, \"app_type\": \"VIDEOCONF\", \"app_name\": \"conf123\", \"subdomain_name\": \"sahil-conf123.qa-app.100ms.live\", \"room_id\": \"tae-mqh-imu\", \"logo\": \"https:\/\/100ms.live\/images\/100ms-logo.png\", \"color\": \"#2F80FF\", \"font\": \"INTER\", \"tile_shape\": \"SQUARE\", \"theme\": \"DARK\", \"video_off_avatars\": \"NONE\", \"chat\": true, \"screenshare\": true, \"annotation\": true, \"background\": true, \"spotlight\": true, \"raise_hand\": true, \"google_drive\": true, \"youtube\": true, \"whiteboard\": true, \"policy\": \"conf123_videoconf_f41d8e4a-9c41-4c46-98c7-cc9333700eb5\", \"policy_id\": \"62c456fbe0373c994faad926\", \"room_links\": {\"guest\": {\"identifier\": \"ife-ghg-hve\", \"is_active\": true, \"subdomain\": \"sahil-conf123.qa-app.100ms.live\"}, \"host\": {\"identifier\": \"tae-mqh-imu\", \"is_active\": true, \"subdomain\": \"sahil-conf123.qa-app.100ms.live\"}}, \"metadata\": \"\", \"default\": false, \"starter_kit_id\": 6, \"ts_template_id\": 10, \"deployment_url\": null, \"icon_url\": null, \"user_name\": \"sahil\"}, {\"id\": 2592, \"app_type\": \"VIDEOCONF\", \"app_name\": \"conf\", \"subdomain_name\": \"sahil-conf.qa-app.100ms.live\", \"room_id\": \"onu-zim-lup\", \"logo\": \"https:\/\/100ms.live\/images\/100ms-logo.png\", \"color\": \"#2F80FF\", \"font\": \"INTER\", \"tile_shape\": \"1-1\", \"theme\": \"DARK\", \"video_off_avatars\": \"NONE\", \"chat\": true, \"screenshare\": true, \"annotation\": true, \"background\": true, \"spotlight\": true, \"raise_hand\": true, \"google_drive\": true, \"youtube\": true, \"whiteboard\": true, \"policy\": \"conf_videoconf_89f60ec2-fc60-4471-bffc-13c67284a3b5\", \"policy_id\": \"62c28a94e0373c994faad923\", \"room_links\": {\"__internal_recorder\": {\"identifier\": \"kbr-mqu-hud\", \"is_active\": true, \"subdomain\": \"sahil-conf.qa-app.100ms.live\"}, \"guest\": {\"identifier\": \"myp-tvc-vyc\", \"is_active\": true, \"subdomain\": \"sahil-conf.qa-app.100ms.live\"}, \"hls-viewer\": {\"identifier\": \"hvs-euq-ajr\", \"is_active\": true, \"subdomain\": \"sahil-conf.qa-app.100ms.live\"}, \"host\": {\"identifier\": \"onu-zim-lup\", \"is_active\": true, \"subdomain\": \"sahil-conf.qa-app.100ms.live\"}}, \"metadata\": \"{\\\"headlessConfig\\\":{\\\"hideAudioLevel\\\":false,\\\"hideTileAudioMute\\\":false,\\\"hideTileName\\\":true,\\\"tileOffset\\\":0,\\\"uiMode\\\":\\\"grid\\\"}}\", \"default\": false, \"starter_kit_id\": 6, \"ts_template_id\": 10, \"deployment_url\": null, \"icon_url\": null, \"user_name\": \"sahil\"}], \"success\": true, \"msg\": \"apps fetched successfully\", \"api_version\": \"2.0.181\"}\n\n"},{"result":{"nanos":17816333,"millis":17.816333,"status":"passed"},"step":{"line":15,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4404125,"millis":4.404125,"status":"passed"},"step":{"line":16,"prefix":"And","index":7,"text":"print response"},"stepLog":"21:15:55.076 [print] {\n  \"user_name\": \"sahil\",\n  \"apps\": [\n    {\n      \"id\": 2599,\n      \"app_type\": \"VIDEOCONF\",\n      \"app_name\": \"conf123\",\n      \"subdomain_name\": \"sahil-conf123.qa-app.100ms.live\",\n      \"room_id\": \"tae-mqh-imu\",\n      \"logo\": \"https:\/\/100ms.live\/images\/100ms-logo.png\",\n      \"color\": \"#2F80FF\",\n      \"font\": \"INTER\",\n      \"tile_shape\": \"SQUARE\",\n      \"theme\": \"DARK\",\n      \"video_off_avatars\": \"NONE\",\n      \"chat\": true,\n      \"screenshare\": true,\n      \"annotation\": true,\n      \"background\": true,\n      \"spotlight\": true,\n      \"raise_hand\": true,\n      \"google_drive\": true,\n      \"youtube\": true,\n      \"whiteboard\": true,\n      \"policy\": \"conf123_videoconf_f41d8e4a-9c41-4c46-98c7-cc9333700eb5\",\n      \"policy_id\": \"62c456fbe0373c994faad926\",\n      \"room_links\": {\n        \"guest\": {\n          \"identifier\": \"ife-ghg-hve\",\n          \"is_active\": true,\n          \"subdomain\": \"sahil-conf123.qa-app.100ms.live\"\n        },\n        \"host\": {\n          \"identifier\": \"tae-mqh-imu\",\n          \"is_active\": true,\n          \"subdomain\": \"sahil-conf123.qa-app.100ms.live\"\n        }\n      },\n      \"metadata\": \"\",\n      \"default\": false,\n      \"starter_kit_id\": 6,\n      \"ts_template_id\": 10,\n      \"deployment_url\": null,\n      \"icon_url\": null,\n      \"user_name\": \"sahil\"\n    },\n    {\n      \"id\": 2592,\n      \"app_type\": \"VIDEOCONF\",\n      \"app_name\": \"conf\",\n      \"subdomain_name\": \"sahil-conf.qa-app.100ms.live\",\n      \"room_id\": \"onu-zim-lup\",\n      \"logo\": \"https:\/\/100ms.live\/images\/100ms-logo.png\",\n      \"color\": \"#2F80FF\",\n      \"font\": \"INTER\",\n      \"tile_shape\": \"1-1\",\n      \"theme\": \"DARK\",\n      \"video_off_avatars\": \"NONE\",\n      \"chat\": true,\n      \"screenshare\": true,\n      \"annotation\": true,\n      \"background\": true,\n      \"spotlight\": true,\n      \"raise_hand\": true,\n      \"google_drive\": true,\n      \"youtube\": true,\n      \"whiteboard\": true,\n      \"policy\": \"conf_videoconf_89f60ec2-fc60-4471-bffc-13c67284a3b5\",\n      \"policy_id\": \"62c28a94e0373c994faad923\",\n      \"room_links\": {\n        \"__internal_recorder\": {\n          \"identifier\": \"kbr-mqu-hud\",\n          \"is_active\": true,\n          \"subdomain\": \"sahil-conf.qa-app.100ms.live\"\n        },\n        \"guest\": {\n          \"identifier\": \"myp-tvc-vyc\",\n          \"is_active\": true,\n          \"subdomain\": \"sahil-conf.qa-app.100ms.live\"\n        },\n        \"hls-viewer\": {\n          \"identifier\": \"hvs-euq-ajr\",\n          \"is_active\": true,\n          \"subdomain\": \"sahil-conf.qa-app.100ms.live\"\n        },\n        \"host\": {\n          \"identifier\": \"onu-zim-lup\",\n          \"is_active\": true,\n          \"subdomain\": \"sahil-conf.qa-app.100ms.live\"\n        }\n      },\n      \"metadata\": \"{\\\"headlessConfig\\\":{\\\"hideAudioLevel\\\":false,\\\"hideTileAudioMute\\\":false,\\\"hideTileName\\\":true,\\\"tileOffset\\\":0,\\\"uiMode\\\":\\\"grid\\\"}}\",\n      \"default\": false,\n      \"starter_kit_id\": 6,\n      \"ts_template_id\": 10,\n      \"deployment_url\": null,\n      \"icon_url\": null,\n      \"user_name\": \"sahil\"\n    }\n  ],\n  \"success\": true,\n  \"msg\": \"apps fetched successfully\",\n  \"api_version\": \"2.0.181\"\n}\n \n"}],"executorName":"pool-1-thread-1","line":8,"name":"get all users and then get the first user by id","description":"","durationMillis":1363.614291,"startTime":1657035953707,"failed":false,"refId":"[1:8]","endTime":1657035955076,"exampleIndex":-1}],"callDepth":1,"name":"get app tests","description":"","resultDate":"2022-07-05 09:15:55 pm","durationMillis":1363.614291,"passedCount":1}]},{"result":{"nanos":940042,"millis":0.940042,"status":"passed"},"step":{"line":11,"prefix":"Given","index":0,"text":"path '\/get-details'"}},{"result":{"nanos":12731417,"errorMessage":"js failed:\n>>>>\n01: result.apps[0].subdomain_name\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Cannot read property \"0\" from undefined\n- <js>.:program(Unnamed:1)\n\nclasspath:endpoints\/apps\/get-details.feature:12","millis":12.731417,"status":"failed"},"step":{"line":12,"prefix":"And","index":1,"text":"param domain = result.apps[0].subdomain_name"},"stepLog":"21:15:55.094 classpath:endpoints\/apps\/get-details.feature:12\nAnd param domain = result.apps[0].subdomain_name\njs failed:\n>>>>\n01: result.apps[0].subdomain_name\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Cannot read property \"0\" from undefined\n- <js>.:program(Unnamed:1)\n\nclasspath:endpoints\/apps\/get-details.feature:12\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":13,"prefix":"And","index":2,"text":"param room_id = result.apps[0].room_id"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":14,"prefix":"And","index":3,"text":"header authorization = token"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":15,"prefix":"When","index":4,"text":"method get"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":16,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":17,"prefix":"And","index":6,"text":"print response"}}],"line":10,"description":"","durationMillis":1440.145999,"failed":true,"error":"js failed:\n>>>>\n01: result.apps[0].subdomain_name\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Cannot read property \"0\" from undefined\n- <js>.:program(Unnamed:1)\n\nclasspath:endpoints\/apps\/get-details.feature:12","tags":["debug"],"executorName":"pool-1-thread-1","name":"get all users and then get the first user by id","startTime":1657035953551,"refId":"[1:10]","endTime":1657035955094,"exampleIndex":-1}],"callDepth":0,"name":"get details app","description":"","resultDate":"2022-07-05 09:15:55 pm","durationMillis":1440.145999,"passedCount":0}