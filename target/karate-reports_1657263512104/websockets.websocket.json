[{"line":1,"elements":[{"start_timestamp":"2022-07-08T06:57:35.472Z","line":3,"name":"demo ws tests","description":"","id":"demo-ws-tests","type":"scenario","keyword":"Scenario","steps":[{"name":"def handler = function(msg){ return msg.includes('timestamp') }","result":{"duration":13164000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"12:27:35.610 karate.env system property was: null \n","line":4}},{"name":"def socket = karate.webSocket('wss:\/\/qa-in2.100ms.live\/v2\/ws?peer=996ee637-d645-48b7-8f72-611a2f02c44e&token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhY2Nlc3Nfa2V5IjoiNjJjNjk2YTg4YzllN2Y3Nzk2Y2Q5ZWM1Iiwicm9vbV9pZCI6IjYyYzY5OTQyYjAxODk0MTk3NDQwNmY1ZSIsInVzZXJfaWQiOiI0MTU2MTkxYS1lYWIzLTQ5OTItOGMxZS03NDBjNTQ5N2MzMTciLCJyb2xlIjoiYnJvYWRjYXN0ZXIiLCJqdGkiOiI3OGFhZDJiZC1lZDI2LTQ5OGMtYWFiMC04YjZlMjhjMjY2OTYiLCJ0eXBlIjoiYXBwIiwidmVyc2lvbiI6MiwiZXhwIjoxNjU3MzQ3ODIwfQ.izmNfmS5hnDe2vDXM9sEUJt-FzyMrNvpq-_EephViAI&user_agent=hmsclient%2F0.2.5-alpha.0+web_Mac_OS%2F10.15.7+Chrome_103.0.0.0')","result":{"duration":781465875,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":5},{"name":"def res2 = socket.listen(5000);","result":{"duration":10040458,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":6},{"name":"print res2","result":{"duration":1576000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":7,"doc_string":{"content_type":"","value":"12:27:36.482 [print] {\"method\":\"on-role-change\",\"params\":{\"role\":{\"name\":\"broadcaster\",\"publishParams\":{\"allowed\":[\"audio\",\"video\",\"screen\"],\"audio\":{\"bitRate\":32,\"codec\":\"opus\"},\"video\":{\"bitRate\":850,\"codec\":\"vp8\",\"frameRate\":30,\"width\":1280,\"height\":720},\"screen\":{\"codec\":\"vp8\",\"frameRate\":10,\"width\":1920,\"height\":1080},\"videoSimulcastLayers\":{},\"screenSimulcastLayers\":{}},\"subscribeParams\":{\"subscribeToRoles\":[\"broadcaster\"],\"maxSubsBitRate\":8000,\"subscribeDegradation\":{\"packetLossThreshold\":25,\"degradeGracePeriodSeconds\":1,\"recoverGracePeriodSeconds\":4}},\"permissions\":{\"endRoom\":true,\"removeOthers\":true,\"mute\":true,\"unmute\":true,\"changeRole\":true,\"sendRoomState\":false},\"priority\":5,\"maxPeerCount\":0}},\"jsonrpc\":\"2.0\"}\n \n","line":7}}],"tags":[]}],"name":"websockets\/websocket.feature","description":"Test websockets","id":"test-websockets","keyword":"Feature","uri":"websockets\/websocket.feature"}]